



node {
    checkout scm
    // Load the file 'pipelineTrace.groovy' from the current directory, into a variable called "externalMethod".
    def trace = load("pipelineTrace.groovy")

    stage('Build') {
        trace.startStage("${env.WORKSPACE}", "${env.BUILD_NUMBER}",  "${env.GIT_BRANCH}", 'BUILD')
    }

    stage('Code Coverage') {
        trace.startStage("${env.WORKSPACE}", "${env.BUILD_NUMBER}",  "${env.GIT_BRANCH}", 'Code Coverage')
    }
    stage('Deploy') {
        trace.startStage("${env.WORKSPACE}", "${env.BUILD_NUMBER}",  "${env.GIT_BRANCH}", 'Deploy')
    }




}